<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Dark Room</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background-color: #000;
            color: #a00;
            font-family: 'Courier New', Courier, monospace;
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            user-select: none;
        }

        #start-btn {
            padding: 15px 30px;
            background: transparent;
            border: 2px solid #333;
            color: #666;
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.3s;
            letter-spacing: 2px;
            z-index: 10;
        }

        #start-btn:hover {
            border-color: #a00;
            color: #a00;
            box-shadow: 0 0 10px #500;
        }

        .hidden {
            display: none !important;
        }

        #text-container {
            font-size: 1.5rem;
            text-align: center;
            min-height: 50px;
            opacity: 0;
            transition: opacity 1s ease-in-out;
            text-shadow: 0 0 5px red;
            max-width: 90%;
        }

        /* The Monster Face */
        #jumpscare {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: black;
            display: flex;
            justify-content: center;
            align-items: center;
            opacity: 0;
            pointer-events: none;
            z-index: 20;
        }

        .face-svg {
            width: 80vmin;
            height: 80vmin;
            filter: drop-shadow(0 0 20px red);
        }

        /* Animations */
        @keyframes shake {
            0% { transform: translate(1px, 1px) rotate(0deg); }
            10% { transform: translate(-1px, -2px) rotate(-1deg); }
            20% { transform: translate(-3px, 0px) rotate(1deg); }
            30% { transform: translate(3px, 2px) rotate(0deg); }
            40% { transform: translate(1px, -1px) rotate(1deg); }
            50% { transform: translate(-1px, 2px) rotate(-1deg); }
            60% { transform: translate(-3px, 1px) rotate(0deg); }
            70% { transform: translate(3px, 1px) rotate(-1deg); }
            80% { transform: translate(-1px, -1px) rotate(1deg); }
            90% { transform: translate(1px, 2px) rotate(0deg); }
            100% { transform: translate(1px, -2px) rotate(-1deg); }
        }

        @keyframes glitch {
            0% { opacity: 1; }
            50% { opacity: 0.8; transform: skewX(10deg); }
            51% { opacity: 1; transform: skewX(0deg); }
            100% { opacity: 1; }
        }

        @keyframes pulse-red {
            0% { background-color: black; }
            50% { background-color: #200; }
            100% { background-color: black; }
        }

        .shaking {
            animation: shake 0.5s;
            animation-iteration-count: infinite;
        }

        .screen-flash {
            animation: pulse-red 0.1s infinite;
        }

        .text-glitch {
            animation: glitch 0.2s infinite;
            color: white;
        }

    </style>
</head>
<body>

    <button id="start-btn">ENTER THE DARKNESS</button>

    <div id="text-container"></div>

    <div id="jumpscare" class="hidden">
        <!-- Scary Vector Face -->
        <svg class="face-svg" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
            <!-- Hollow distorted face shape -->
            <path d="M100,10 C50,10 20,50 20,100 C20,160 60,190 100,190 C140,190 180,160 180,100 C180,50 150,10 100,10 Z" fill="#1a0000" />
            
            <!-- Angry glowing eyes -->
            <circle cx="65" cy="80" r="15" fill="red">
                <animate attributeName="r" values="15;10;15" dur="0.1s" repeatCount="indefinite" />
            </circle>
            <circle cx="135" cy="80" r="15" fill="red">
                <animate attributeName="r" values="15;10;15" dur="0.1s" repeatCount="indefinite" />
            </circle>
            
            <!-- Tiny pupils -->
            <circle cx="65" cy="80" r="3" fill="black" />
            <circle cx="135" cy="80" r="3" fill="black" />

            <!-- Screaming mouth -->
            <path d="M60,130 Q100,180 140,130 Q100,110 60,130" fill="black" stroke="red" stroke-width="2">
                 <animate attributeName="d" values="M60,130 Q100,180 140,130 Q100,110 60,130; M55,125 Q100,190 145,125 Q100,100 55,125; M60,130 Q100,180 140,130 Q100,110 60,130" dur="0.1s" repeatCount="indefinite" />
            </path>
            
            <!-- Scars/Cracks -->
            <path d="M50,40 L70,60 M130,40 L150,50 M100,150 L100,170" stroke="#300" stroke-width="2" />
        </svg>
    </div>

    <script>
        const startBtn = document.getElementById('start-btn');
        const textContainer = document.getElementById('text-container');
        const jumpscare = document.getElementById('jumpscare');
        const body = document.body;

        let audioCtx;

        // Scary messages sequence
        const messages = [
            "Initializing...",
            "Can you hear that?",
            "Look closely at the screen...",
            "Don't blink.",
            "It's behind you.",
            "RUN."
        ];

        // Sound synthesis (Web Audio API) - generates scary sounds without external files
        function playSound(type) {
            if (!audioCtx) return;
            const osc = audioCtx.createOscillator();
            const gainNode = audioCtx.createGain();

            osc.connect(gainNode);
            gainNode.connect(audioCtx.destination);

            if (type === 'drone') {
                // Low creepy background hum
                osc.type = 'sawtooth';
                osc.frequency.setValueAtTime(50, audioCtx.currentTime);
                osc.frequency.exponentialRampToValueAtTime(30, audioCtx.currentTime + 10);
                gainNode.gain.setValueAtTime(0.1, audioCtx.currentTime);
                gainNode.gain.linearRampToValueAtTime(0.3, audioCtx.currentTime + 5);
                osc.start();
                return { osc, gainNode };
            } else if (type === 'scream') {
                // Sudden high pitched noise
                osc.type = 'sawtooth';
                osc.frequency.setValueAtTime(200, audioCtx.currentTime);
                osc.frequency.exponentialRampToValueAtTime(800, audioCtx.currentTime + 0.1);
                osc.frequency.exponentialRampToValueAtTime(100, audioCtx.currentTime + 0.5);
                
                // Add noise distortion effect logic would go here, but oscillation is enough for a jumpscare
                
                gainNode.gain.setValueAtTime(0, audioCtx.currentTime);
                gainNode.gain.linearRampToValueAtTime(1, audioCtx.currentTime + 0.05);
                gainNode.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 1);
                
                osc.start();
                osc.stop(audioCtx.currentTime + 1);
            } else if (type === 'static') {
                 // Glitch sound
                 osc.type = 'square';
                 osc.frequency.setValueAtTime(Math.random() * 1000 + 100, audioCtx.currentTime);
                 gainNode.gain.value = 0.1;
                 osc.start();
                 osc.stop(audioCtx.currentTime + 0.1);
            }
        }

        function showText(text, delay, glitch = false) {
            return new Promise(resolve => {
                setTimeout(() => {
                    textContainer.style.opacity = 0;
                    setTimeout(() => {
                        textContainer.innerText = text;
                        if (glitch) textContainer.classList.add('text-glitch');
                        else textContainer.classList.remove('text-glitch');
                        
                        textContainer.style.opacity = 1;
                        
                        if(Math.random() > 0.5) playSound('static');
                        
                        resolve();
                    }, 500);
                }, delay);
            });
        }

        async function startExperience() {
            startBtn.classList.add('hidden');
            
            // Init Audio Context on user gesture
            audioCtx = new (window.AudioContext || window.webkitAudioContext)();
            const drone = playSound('drone');

            document.body.style.cursor = 'none';

            // Timeline
            await showText(messages[0], 1000);
            await showText(messages[1], 3000);
            await showText(messages[2], 3000);
            
            // Slight visual disturbance
            body.style.backgroundColor = "#050000";
            
            await showText(messages[3], 4000);
            
            // More disturbance
            body.classList.add('shaking');
            setTimeout(() => body.classList.remove('shaking'), 500);
            
            await showText(messages[4], 3000, true); // Glitch text

            // The Build up
            setTimeout(() => {
                textContainer.innerText = "";
                
                // THE JUMPSCARE
                setTimeout(() => {
                    playSound('scream');
                    jumpscare.classList.remove('hidden');
                    jumpscare.style.opacity = 1;
                    body.classList.add('shaking');
                    body.classList.add('screen-flash');

                    // End scene after 2 seconds
                    setTimeout(() => {
                        jumpscare.classList.add('hidden');
                        body.classList.remove('shaking');
                        body.classList.remove('screen-flash');
                        body.style.backgroundColor = "#000";
                        textContainer.classList.remove('text-glitch');
                        textContainer.style.color = "white";
                        textContainer.innerText = "Did I get you? ðŸ‘»";
                        textContainer.style.opacity = 1;
                        document.body.style.cursor = 'default';
                        
                        // Stop drone
                        if(drone) {
                            drone.gainNode.gain.linearRampToValueAtTime(0, audioCtx.currentTime + 2);
                            setTimeout(() => drone.osc.stop(), 2000);
                        }
                        
                        startBtn.innerText = "TRY AGAIN";
                        startBtn.classList.remove('hidden');

                    }, 2000);
                }, 2000); // Time before jump after last text

            }, 3000);
        }

        startBtn.addEventListener('click', startExperience);

    </script>
</body>
</html>